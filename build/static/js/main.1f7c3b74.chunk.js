(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{13:function(e,t,n){e.exports={auth:"Login_auth__2eln7",control:"Login_control__jSd9U",form:"Login_form__3AJv8",actions:"Login_actions__1yS_k",toggle:"Login_toggle__2jlaR",logo:"Login_logo__eb6Ix",Logo:"Login_Logo__1T3Nz"}},23:function(e,t,n){e.exports={tiles:"Sections_tiles__2GiYm"}},24:function(e,t,n){e.exports={form:"PostDetail_form__3sbjn",header:"PostDetail_header__20aWy",title:"PostDetail_title__2gdNd",content:"PostDetail_content__2EtXH",actions:"PostDetail_actions__18Hz6"}},25:function(e,t,n){e.exports={form:"NewPost_form__1fQbV",header:"NewPost_header__3seA9",title:"NewPost_title__2QR7W",section:"NewPost_section__33Kav",content:"NewPost_content__15qhU",actions:"NewPost_actions__3sNA3"}},29:function(e,t,n){e.exports={header:"Navigation_header__hrbmI",logo:"Navigation_logo__IKT0-",nav:"Navigation_nav__3aD2W",active:"Navigation_active__27I-m",logoutbutton:"Navigation_logoutbutton__TMrHE"}},30:function(e,t,n){e.exports={total:"Logout_total__2BwFH",actions:"Logout_actions__3y_B7","button--alt":"Logout_button--alt__2a6o5",button:"Logout_button__muebC"}},33:function(e,t,n){e.exports={Post:"Posts_Post__3XH-8",action:"Posts_action__3D9s3",button:"Posts_button__1oEgv"}},34:function(e,t,n){e.exports={form:"PostRead_form__3a7yS",header:"PostRead_header__36glm",content:"PostRead_content__1EyVi"}},43:function(e,t,n){e.exports={backdrop:"Modal_backdrop__6VZAa",modal:"Modal_modal__1zi74","slide-down":"Modal_slide-down__IndLQ"}},52:function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__36eBe"}},54:function(e,t,n){e.exports={dashboard:"Dashboard_dashboard__16YzO"}},55:function(e,t,n){e.exports={dashboard:"Subsection_dashboard__37fUt"}},64:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(22),o=n.n(c),s=n(27),a=n(12),i=n(20),l=Object(i.b)({name:"AuthSlice",initialState:{userId:"",isLogIn:!1},reducers:{setUserData:function(e,t){e.userId=t.payload.username,e.isLogIn=t.payload.isLogIn}}}),r=l.actions,d=l,j=Object(i.b)({name:"Post",initialState:{id:"",title:"",section:"",content:""},reducers:{setPosts:function(e,t){e.id=t.payload.id,e.title=t.payload.title,e.content=t.payload.content,e.section=t.payload.section},clearPost:function(e,t){e.id="",e.title="",e.content="",e.section=""}}}),u=(j.actions,j),b=n(10),h=Object(i.b)({name:"Posts",initialState:{items:[],postDetailItem:{id:"",title:"",section:"",content:""}},reducers:{setPostData:function(e,t){e.items.find((function(e){return e.id===t.payload.id}))||e.items.push({id:t.payload.id,title:t.payload.item.title,content:t.payload.item.content,section:t.payload.item.section})},setPost:function(e,t){var n=e.items.filter((function(e){return e.id===t.payload.id})),c=Object(b.a)(n,1)[0];e.postDetailItem=c},clearPost:function(e,t){e.items=[],e.postDetailItem={}}}}),O=h.actions,p=h,x=Object(i.a)({reducer:{auth:d.reducer,post:u.reducer,posts:p.reducer}}),m=(n(64),n(3)),f=n(13),g=n.n(f),_=n(6),v=n(35);v.a.initializeApp({apiKey:"AIzaSyCEuKukNRynt7pmOA1UybJ2M1jN2iUShzg",authDomain:"dashboardcrud.firebaseapp.com",projectId:"dashboardcrud",storageBucket:"dashboardcrud.appspot.com",messagingSenderId:"623998509929",appId:"1:623998509929:web:0e7dc8bd2a80e620a113f8"}),v.a.analytics();var N=v.a,y=n(52),S=n.n(y),P=n(2),C=function(){return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsx)("div",{className:S.a.spinner})})},k=function(){var e=Object(m.useState)("pn@test.com"),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(m.useState)("12345678"),s=Object(b.a)(o,2),i=s[0],l=s[1],d=Object(m.useState)(!1),j=Object(b.a)(d,2),u=j[0],h=j[1],O=Object(_.g)(),p=Object(a.b)();return Object(P.jsxs)("section",{className:g.a.auth,children:[!u&&Object(P.jsx)("h2",{children:"LOG IN"}),!u&&Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h(!0),fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCEuKukNRynt7pmOA1UybJ2M1jN2iUShzg",{method:"POST",body:JSON.stringify({email:n,password:i,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){h(!1),alert(e.error.message)}));h(!1),p(r.setUserData({userId:n,isLogIn:!0})),O.push("/dashboard")}))},className:g.a.form,children:[Object(P.jsx)("div",{className:g.a.control,children:Object(P.jsx)("input",{type:"email",id:"email",onChange:function(e){c(e.target.value)},value:n,required:!0,placeholder:"Enter Email"})}),Object(P.jsx)("div",{className:g.a.control,children:Object(P.jsx)("input",{type:"password",id:"password",onChange:function(e){l(e.target.value)},value:i,required:!0,placeholder:"Enter Password"})}),Object(P.jsxs)("div",{className:g.a.actions,children:[Object(P.jsx)("button",{children:"Submit"}),Object(P.jsx)("button",{type:"button",className:g.a.toggle,onClick:function(){O.push("/register")},children:"Create new account"})]})]}),!u&&Object(P.jsx)("div",{className:g.a.logo,children:Object(P.jsx)("button",{onClick:function(e){var t;switch(e){case"Google":t=new N.auth.GoogleAuthProvider}return N.auth().signInWithPopup(t).then((function(e){var t=e.credential.accessToken;return console.log(t),e.user})).then((function(e){p(r.setUserData({userId:n,isLogIn:!0})),O.push("/dashboard")})).catch((function(e){alert(e)}))}.bind(null,"Google"),children:"Google"})}),u&&Object(P.jsx)(C,{})]})},w=n(42),I=n.n(w),L=n(53),D=n(54),T=n.n(D),A=n(33),E=n.n(A),U=function(e){var t=Object(_.g)(),n=Object(a.b)(),c=e.id,o=e.title,s=e.section,i=e.content;return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:E.a.Post,onClick:function(){n(O.setPost({id:c,title:o,section:s,content:i})),t.push("/post-read")},children:[Object(P.jsx)("p",{children:Object(P.jsx)("b",{children:o})}),Object(P.jsx)("span",{children:s}),Object(P.jsx)("div",{className:E.a.action,children:Object(P.jsx)("button",{onClick:function(){n(O.setPost({id:c,title:o,section:s,content:i})),t.push("/post-detail")},className:E.a.button,children:"Edit"})})]})})},F=function(e){var t=Object(m.useState)(!1),n=Object(b.a)(t,2),c=n[0],o=n[1],s=Object(m.useState)([]),i=Object(b.a)(s,2),l=(i[0],i[1]),r=Object(a.b)(),d=Object(a.c)((function(e){return e.posts})).items;return Object(m.useEffect)((function(){var e=function(){var e=Object(L.a)(I.a.mark((function e(){var t,n,c,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,fetch("https://dashboardcrud-default-rtdb.firebaseio.com/new-post.json");case 3:return t=e.sent,e.next=6,t.json();case 6:for(s in n=e.sent,c=[],n)c.push({id:s,item:n[s]}),r(O.setPostData({id:s,item:n[s]}));l(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){alert(e)})),e().finally((function(){o(!1)}))}),[]),Object(P.jsxs)("div",{className:T.a.dashboard,children:[0!==d.length&&d.map((function(e,t){return Object(P.jsx)(U,{id:e.id,title:e.title,content:e.content,section:e.section})})),c&&Object(P.jsx)(C,{})]})},q=function(){var e=Object(m.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(m.useState)(""),s=Object(b.a)(o,2),a=s[0],i=s[1],l=Object(m.useState)(""),r=Object(b.a)(l,2),d=r[0],j=r[1],u=Object(m.useState)(""),h=Object(b.a)(u,2),O=h[0],p=h[1],x=Object(m.useState)(!1),f=Object(b.a)(x,2),v=f[0],y=f[1],S=Object(_.g)();return Object(P.jsxs)("section",{className:g.a.auth,children:[!v&&Object(P.jsx)("h2",{children:"Sign Up"}),!v&&Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(!0),fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCEuKukNRynt7pmOA1UybJ2M1jN2iUShzg",{method:"POST",body:JSON.stringify({email:n,password:a,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){y(!1),alert(e.error.message)}));y(!0),console.log(e),S.push("/login")}))},className:g.a.form,children:[Object(P.jsx)("div",{className:g.a.control,children:Object(P.jsx)("input",{type:"text",id:"fname",onChange:function(e){j(e.target.value)},value:d,required:!0,placeholder:"First Name"})}),Object(P.jsx)("div",{className:g.a.control,children:Object(P.jsx)("input",{type:"number",id:"mobile",onChange:function(e){p(e.target.value)},value:O,required:!0,placeholder:"Mobile Number"})}),Object(P.jsx)("div",{className:g.a.control,children:Object(P.jsx)("input",{type:"email",id:"email",onChange:function(e){c(e.target.value)},value:n,required:!0,placeholder:"Enter Email"})}),Object(P.jsx)("div",{className:g.a.control,children:Object(P.jsx)("input",{type:"text",id:"password",onChange:function(e){i(e.target.value)},value:a,required:!0,placeholder:"Enter Password"})}),Object(P.jsxs)("div",{className:g.a.actions,children:[Object(P.jsx)("button",{children:"Submit"}),Object(P.jsx)("button",{type:"button",className:g.a.toggle,onClick:function(){S.push("/login")},children:"Log In"})]})]}),!v&&Object(P.jsx)("div",{className:g.a.logo,children:Object(P.jsx)("button",{onClick:function(e){var t;switch(e){case"Google":t=new N.auth.GoogleAuthProvider}return N.auth().signInWithPopup(t).then((function(e){var t=e.credential.accessToken;return console.log(t),e.user})).then((function(e){alert("Log In successfully!"),S.push("/dashboard")})).catch((function(e){console.log(e)}))}.bind(null,"Google"),children:"Google"})}),v&&Object(P.jsx)(C,{})]})},z=n(23),B=n.n(z),G=function(){var e=Object(_.g)(),t=function(t){e.push("/section/"+t)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:B.a.tiles,onClick:t.bind(null,"technology"),children:Object(P.jsx)("h3",{children:"Technology"})}),Object(P.jsx)("div",{className:B.a.tiles,onClick:t.bind(null,"psychology"),children:Object(P.jsx)("h3",{children:"Psychology"})}),Object(P.jsx)("div",{className:B.a.tiles,onClick:t.bind(null,"bechnology"),children:Object(P.jsx)("h3",{children:"Books"})}),Object(P.jsx)("div",{className:B.a.tiles,onClick:t.bind(null,"philosophy"),children:Object(P.jsx)("h3",{children:"Philosophy"})}),Object(P.jsx)("div",{className:B.a.tiles,onClick:t.bind(null,"food"),children:Object(P.jsx)("h3",{children:"Food"})}),Object(P.jsx)("div",{className:B.a.tiles,onClick:t.bind(null,"health"),children:Object(P.jsx)("h3",{children:"Health"})})]})},J=n(55),M=n.n(J),H=function(){var e=Object(_.g)(),t=Object(a.c)((function(e){return e.posts.items})),n=e.location.pathname.split("/")[2],c=n.charAt(0).toUpperCase()+n.slice(1),o=t.filter((function(e){return e.section===c}));return Object(P.jsxs)(P.Fragment,{children:[0!==o.length&&Object(P.jsx)("div",{className:M.a.dashboard,children:o.map((function(e,t){return Object(P.jsx)(U,{id:e.id,title:e.title,content:e.content,section:e.section})}))}),0===o.length&&Object(P.jsxs)("h3",{style:{textAlign:"center"},children:[" No Data Found in ",c," Section."]})]})},R=n(24),K=n.n(R),W=n(56),Q=n.n(W),V=function(){var e=Object(a.c)((function(e){return e.posts.postDetailItem})),t=e.id,n=e.title,c=e.section,o=e.content,s=Object(m.useState)(n),i=Object(b.a)(s,2),l=i[0],r=i[1],d=Object(m.useState)(o),j=Object(b.a)(d,2),u=j[0],h=j[1],p=Object(m.useState)(!1),x=Object(b.a)(p,2),f=x[0],g=x[1],v=Object(a.b)(),N=Object(_.g)();return Object(P.jsxs)(P.Fragment,{children:[!f&&Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(!0),Q.a.put("https://dashboardcrud-default-rtdb.firebaseio.com/new-post/"+t+".json",{content:u,title:l,section:c}).then((function(e){g(!1),r(""),h(""),v(O.clearPost()),alert("Post updated successfully!"),N.replace("/dashboard")})).catch((function(e){g(!1),alert(e)}))},className:K.a.form,children:[Object(P.jsxs)("div",{className:K.a.header,children:[Object(P.jsx)("div",{className:K.a.title,children:Object(P.jsx)("input",{id:"title",onChange:function(e){r(e.target.value)},value:l,autoComplete:"off",required:!0})}),Object(P.jsx)("div",{className:K.a.title,children:Object(P.jsx)("input",{id:"section",value:c,disabled:"true"})})]}),Object(P.jsx)("div",{className:K.a.content,children:Object(P.jsx)("textarea",{id:"content",onChange:function(e){h(e.target.value)},value:u,placeholder:"Content",required:!0})}),Object(P.jsx)("div",{className:K.a.actions,children:Object(P.jsx)("button",{children:"Submit"})})]}),f&&Object(P.jsx)(C,{})]})},X=n(34),Y=n.n(X),Z=function(){var e=Object(a.c)((function(e){return e.posts.postDetailItem})),t=e.title,n=(e.section,e.content);return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:Y.a.form,children:[Object(P.jsx)("div",{className:Y.a.header,children:Object(P.jsx)("h1",{children:t})}),Object(P.jsx)("div",{className:Y.a.content,children:Object(P.jsx)("p",{children:n})})]})})},$=n(25),ee=n.n($),te=function(){var e=Object(m.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(m.useState)("Technology"),s=Object(b.a)(o,2),a=s[0],i=s[1],l=Object(m.useState)(),r=Object(b.a)(l,2),d=r[0],j=r[1],u=Object(m.useState)(!1),h=Object(b.a)(u,2),O=h[0],p=h[1],x=Object(_.g)(),f={title:n,section:a,content:d};return Object(P.jsxs)(P.Fragment,{children:[!O&&Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0),fetch("https://dashboardcrud-default-rtdb.firebaseio.com/new-post.json",{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"application/json"}}).then((function(e){p(!1),c(""),i("Technology"),j(""),alert("Post created successfully!"),x.replace("/dashboard")})).catch((function(e){p(!1),alert(e)}))},className:ee.a.form,children:[Object(P.jsxs)("div",{className:ee.a.header,children:[Object(P.jsx)("div",{className:ee.a.title,children:Object(P.jsx)("input",{id:"title",onChange:function(e){c(e.target.value)},value:n,placeholder:"Title",autoComplete:"off",required:!0})}),Object(P.jsx)("div",{className:ee.a.section,children:Object(P.jsxs)("select",{name:"sections",id:"sections",onChange:function(e){i(e.target.value)},value:a,children:[Object(P.jsx)("option",{value:"Technology",children:"Technology"}),Object(P.jsx)("option",{value:"Psychology",children:"Psychology"}),Object(P.jsx)("option",{value:"Books",children:"Books"}),Object(P.jsx)("option",{value:"Philosophy",children:"Philosophy"}),Object(P.jsx)("option",{value:"Food",children:"Food"}),Object(P.jsx)("option",{value:"Health",children:"Health"})]})})]}),Object(P.jsx)("div",{className:ee.a.content,children:Object(P.jsx)("textarea",{id:"content",onChange:function(e){j(e.target.value)},value:d,placeholder:"Content",required:!0})}),Object(P.jsx)("div",{className:ee.a.actions,children:Object(P.jsx)("button",{children:"Submit"})})]}),O&&Object(P.jsx)(C,{})]})},ne=n(29),ce=n.n(ne),oe=n(43),se=n.n(oe),ae=function(e){return Object(P.jsx)("div",{className:se.a.backdrop})},ie=function(e){return Object(P.jsx)("div",{className:se.a.modal,children:e.children})},le=document.getElementById("modal"),re=function(e){return Object(P.jsxs)(m.Fragment,{children:[o.a.createPortal(Object(P.jsx)(ae,{}),le),o.a.createPortal(Object(P.jsx)(ie,{children:e.children}),le)]})},de=n(30),je=n.n(de),ue=function(e){return Object(P.jsxs)(re,{onClick:e.onCancel,children:[Object(P.jsx)("div",{className:je.a.total,children:"Are you sure, you want to log out?"}),Object(P.jsxs)("div",{className:je.a.actions,children:[Object(P.jsx)("button",{className:je.a["button--alt"],onClick:e.onCancel,children:"Cancel"}),Object(P.jsx)("button",{className:je.a.button,onClick:e.onConfirm,children:"Confirm"})]})]})},be=function(e){var t=Object(_.g)(),n=Object(m.useState)(!1),c=Object(b.a)(n,2),o=c[0],a=c[1];return Object(P.jsx)("div",{children:Object(P.jsxs)("header",{className:ce.a.header,children:[Object(P.jsx)("div",{className:ce.a.logo,onClick:function(){t.push("/dashboard")},children:"My Blogs"}),Object(P.jsxs)("nav",{className:ce.a.nav,children:[Object(P.jsxs)("ul",{children:[Object(P.jsx)("li",{children:Object(P.jsx)(s.b,{to:"/new-post",children:"New Post"})}),Object(P.jsx)("li",{children:Object(P.jsx)(s.b,{to:"/sections",children:"Sections"})}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{className:ce.a.logoutbutton,onClick:function(){a(!0)},children:"Log Out"})})]}),o&&Object(P.jsx)(ue,{onCancel:function(){a(!1)},onConfirm:function(){a(!1),t.push("/login")}})]})]})})};var he=function(){var e=Object(a.c)((function(e){return e.auth.isLogIn}));return console.info(e),Object(P.jsxs)(m.Fragment,{children:[e&&Object(P.jsx)(be,{}),Object(P.jsxs)(_.d,{children:[Object(P.jsx)(_.b,{path:"/",exact:!0,children:Object(P.jsx)(_.a,{to:"/login"})}),Object(P.jsx)(_.b,{path:"/login",children:Object(P.jsx)(k,{})}),Object(P.jsx)(_.b,{path:"/register",children:Object(P.jsx)(q,{})}),e?Object(P.jsx)(_.b,{path:"/dashboard",children:Object(P.jsx)(F,{})}):Object(P.jsx)(_.a,{to:"/login"}),e?Object(P.jsx)(_.b,{path:"/new-post",children:Object(P.jsx)(te,{})}):Object(P.jsx)(_.a,{to:"/login"}),e?Object(P.jsx)(_.b,{path:"/sections",children:Object(P.jsx)(G,{})}):Object(P.jsx)(_.a,{to:"/login"}),e?Object(P.jsx)(_.b,{path:"/section/:id",children:Object(P.jsx)(H,{})}):Object(P.jsx)(_.a,{to:"/login"}),e?Object(P.jsx)(_.b,{path:"/post-detail",children:Object(P.jsx)(V,{})}):Object(P.jsx)(_.a,{to:"/login"}),e?Object(P.jsx)(_.b,{path:"/post-read",children:Object(P.jsx)(Z,{})}):Object(P.jsx)(_.a,{to:"/login"})]})]})};o.a.render(Object(P.jsx)(a.a,{store:x,children:Object(P.jsx)(s.a,{children:Object(P.jsx)(he,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.1f7c3b74.chunk.js.map